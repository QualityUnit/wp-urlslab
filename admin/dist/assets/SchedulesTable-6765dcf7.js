import{r as S,R as s,L as x}from"../main.js";import{u as I,a as V,h as M,S as R,M as Y,b as C,T as q}from"./useTableUpdater-93621fab.js";import{C as o}from"./datepicker-9d5f36ac.js";import"./useMutation-157cd200.js";function K({slug:n}){var h;const{table:f,setTable:k,filters:m,setFilters:p,currentFilters:E,sortingColumn:i,sortBy:g,row:d,deleteRow:L}=I({slug:n}),u=S.useMemo(()=>`${m}${i}`,[m,i]),_="schedule_id",{__:a,columnHelper:t,data:c,status:y,isSuccess:N,isFetchingNextPage:O,hasNextPage:T,ref:b}=V({key:n,url:u,pageId:_,currentFilters:E,sortingColumn:i}),w={FOLLOW_ALL_LINKS:a("Follow all links"),FOLLOW_NO_LINK:a("Do not follow")},F={ONE_TIME:"One Time",YEARLY:"Yearly",MONTHLY:"Monthly",DAILY:"Daily",WEEKLY:"Weekly",HOURLY:"Hourly"},r={urls:a("URLs"),analyze_text:a("Analyze text"),follow_links:a("Follow links"),process_all_sitemaps:a("Process all sitemaps"),take_screenshot:a("Take screenshot"),custom_sitemaps:a("Sitemaps"),scan_frequency:a("Scan frequency"),scan_speed_per_minute:a("Scan speed per min.")},z=[t.accessor("check",{className:"checkbox",cell:e=>s.createElement(o,{checked:e.row.getIsSelected(),onChange:l=>{M(l,e)}}),header:null}),t==null?void 0:t.accessor("urls",{className:"nolimit",cell:e=>e==null?void 0:e.getValue().map(l=>s.createElement(s.Fragment,null,s.createElement("a",{href:l,target:"_blank",rel:"noreferrer",key:l},l),", ")),header:r.urls,size:300}),t==null?void 0:t.accessor("analyze_text",{cell:e=>s.createElement(o,{readOnly:!0,className:"readOnly",checked:e.getValue()}),header:r.analyze_text,size:100}),t==null?void 0:t.accessor("follow_links",{cell:e=>w[e==null?void 0:e.getValue()],header:r.follow_links,size:150}),t==null?void 0:t.accessor("process_all_sitemaps",{cell:e=>s.createElement(o,{readOnly:!0,className:"readOnly",checked:e.getValue()}),header:r.process_all_sitemaps,size:150}),t.accessor("scan_frequency",{cell:e=>F[e==null?void 0:e.getValue()],header:r.scan_frequency,size:90}),t.accessor("scan_speed_per_minute",{header:r.scan_speed_per_minute,size:120}),t==null?void 0:t.accessor("take_screenshot",{cell:e=>s.createElement(o,{readOnly:!0,className:"readOnly",checked:e.getValue()}),header:r.take_screenshot,size:90}),t==null?void 0:t.accessor("custom_sitemaps",{className:"nolimit",cell:e=>e==null?void 0:e.getValue().map(l=>s.createElement(s.Fragment,null,s.createElement("a",{href:l,target:"_blank",rel:"noreferrer",key:l},l),", ")),header:r.custom_sitemaps,size:300}),t.accessor("delete",{className:"deleteRow",cell:e=>s.createElement(R,{onClick:()=>L({data:c,url:u,slug:n,cell:e,rowSelector:_})}),header:null})];return y==="loading"?s.createElement(x,null):s.createElement(s.Fragment,null,s.createElement(Y,{slug:n,header:r,table:f,noCount:!0,noExport:!0,noDelete:!0,onSort:e=>g(e),onFilter:e=>p(e)}),s.createElement(C,{className:"noHeightLimit fadeInto",slug:n,returnTable:e=>k(e),columns:z,data:N&&((h=c==null?void 0:c.pages)==null?void 0:h.flatMap(e=>e??[]))},d?s.createElement(q,{center:!0},`${r.url_name} “${d.url_name}”`," has been deleted."):null,s.createElement("button",{ref:b},O?"Loading more...":T)))}export{K as default};
