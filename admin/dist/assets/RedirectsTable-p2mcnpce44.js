import{r as T,R as r,L as x}from"../main-p2mcnpce44.js";import{u as y,a as I,b as L,S,M as F,c as M,T as $}from"./useTableUpdater-p2mcnpce44.js";import{C as B}from"./datepicker-p2mcnpce44.js";import"./useMutation-p2mcnpce44.js";function V({slug:c}){var h;const o="redirect_id",{table:u,setTable:p,filters:l,setFilters:_,sortingColumn:n,sortBy:f}=y({slug:c}),m=T.useMemo(()=>`${l}${n}`,[l,n]),{__:s,columnHelper:e,data:i,status:b,isSuccess:N,isFetchingNextPage:g,hasNextPage:R,ref:z}=I({key:c,url:m,pageId:o}),{row:d,selectRow:C,deleteRow:w}=L({data:i,url:m,slug:c,pageId:o}),a={match_type:s("Match type"),match_url:s("URL"),replace_url:s("Redirect to URL"),redirect_code:s("HTTP Code"),is_logged:s("Login"),capabilities:s("Capabilities"),browser:s("Browser"),cookie:s("Cookies"),headers:s("Request headers"),params:s("Request parameters"),if_not_found:s("Execute if 404"),cnt:s("Redirects Count")},k=[e.accessor("check",{className:"nolimit checkbox",cell:t=>r.createElement(B,{checked:t.row.getIsSelected(),onChange:E=>{C(E,t)}}),header:null}),e.accessor("match_type",{className:"nolimit",header:a.match_type,size:30}),e.accessor("match_url",{className:"nolimit",header:a.match_url,size:300}),e.accessor("replace_url",{className:"nolimit",header:a.replace_url,size:100}),e.accessor("redirect_code",{className:"nolimit",header:a.redirect_code,size:100}),e.accessor("is_logged",{className:"nolimit",header:a.is_logged,size:100}),e.accessor("capabilities",{className:"nolimit",header:a.capabilities,size:100}),e.accessor("browser",{className:"nolimit",header:a.browser,size:100}),e.accessor("cookie",{className:"nolimit",header:a.cookie,size:100}),e.accessor("headers",{className:"nolimit",header:a.headers,size:100}),e.accessor("params",{className:"nolimit",header:a.params,size:100}),e.accessor("if_not_found",{className:"nolimit",header:a.if_not_found,size:100}),e.accessor("cnt",{className:"nolimit",header:a.cnt,size:100}),e.accessor("delete",{className:"deleteRow",cell:t=>r.createElement(S,{onClick:()=>w({cell:t})}),header:()=>null})];return b==="loading"?r.createElement(x,null):r.createElement(r.Fragment,null,r.createElement(F,{slug:c,header:a,table:u,onSort:t=>f(t),onFilter:t=>_(t),exportOptions:{url:c,filters:l,fromId:`from_${o}`,pageId:o,deleteCSVCols:[o]}}),r.createElement(M,{className:"fadeInto",slug:c,returnTable:t=>p(t),columns:k,data:N&&((h=i==null?void 0:i.pages)==null?void 0:h.flatMap(t=>t??[]))},d?r.createElement($,{center:!0},`${a.str_search} “${d.str_search}”`," ",s("has been deleted.")):null,r.createElement("button",{ref:z},g?"Loading more...":R)))}export{V as default};
